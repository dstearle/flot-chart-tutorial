<!DOCTYPE html>

<html lang="">

	<head>

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width,initial-scale=1.0">

		<title>Flot Example || Stacked Bar Chart</title>

        <!-- CSS -->
        <link rel="stylesheet" href="style.css">

        <!-- Flot Sources -->
		<script language="javascript" type="text/javascript" src="./node_modules/flot/source/jquery.js"></script>
		<script language="javascript" type="text/javascript" src="./node_modules/flot/source/jquery.canvaswrapper.js"></script>
		<script language="javascript" type="text/javascript" src="./node_modules/flot/source/jquery.colorhelpers.js"></script>
		<script language="javascript" type="text/javascript" src="./node_modules/flot/source/jquery.flot.js"></script>
		<script language="javascript" type="text/javascript" src="./node_modules/flot/source/jquery.flot.saturated.js"></script>
		<script language="javascript" type="text/javascript" src="./node_modules/flot/source/jquery.flot.browser.js"></script>
		<script language="javascript" type="text/javascript" src="./node_modules/flot/source/jquery.flot.drawSeries.js"></script>
		<script language="javascript" type="text/javascript" src="./node_modules/flot/source/jquery.flot.uiConstants.js"></script>

        <!-- Flot Plugins -->
        <script language="javascript" type="text/javascript" src="./node_modules/flot/source/jquery.flot.stack.js"></script>
        <script language="javascript" type="text/javascript" src="./node_modules/flot/source/jquery.flot.legend.js"></script>

	</head>

	<body>

		<div style="display: grid; grid-column: 1; justify-content:center; text-align: center;">

            <!-- Navbar -->
            <nav>

                <!-- Simple Chart -->
                <a href="http://127.0.0.1:5500/SimpleChart.html">
                    
                    <button>Simple Chart</button>

                </a>

                <!-- Basic Line Chart -->
                <a href="http://127.0.0.1:5500/BasicLineChart.html">
                    
                    <button>Basic Line Chart</button>

                </a>

                <!-- Basic Bar Chart -->
                <a href="http://127.0.0.1:5500/BasicBarChart.html">
                    
                    <button>Basic Bar Chart</button>

                </a>

                <!-- Basic Points Chart -->
                <a href="http://127.0.0.1:5500/BasicPointsChart.html">
                    
                    <button>Basic Points Chart</button>

                </a>

                <!-- Mixed Chart -->
                <a href="http://127.0.0.1:5500/MixedChart.html">
                    
                    <button>Mixed Chart</button>

                </a>

                <!-- Stacked Bar Chart -->
                <a href="http://127.0.0.1:5500/StackedBarChart.html">
                    
                    <button>Stacked Bar Chart</button>

                </a>

            </nav>

			<!-- Title -->
			<h1>Stacked Bar Chart</h1>

			<!-- Flot Chart -->
			<div id="placeholder" style="width:600px;height:300px"></div>

		</div>

	</body>

	<script type="text/javascript">

        // Needed to use "Stack" plugin for stacked bar charts
        var stack = 0;

        // Generates random number with a parameter for maximum integer
        function getRandomInt(max) {

            return Math.floor(Math.random() * max);

        }

        // Data to be used for individual lines
        let dataArr = [];

        // For loop to create four data objects
        for(let i = 0; i < 4; i++){

            // Array of data objects for a single set of data
            let dataArr2 = [];

            // For loop to create twelve points of data to be used in a data object
            for(let i = 0; i < 12; i++){

                // Generates random number for the Y axis
                let randNum = getRandomInt(100);

                // Sets the month for the X axis
                let getMonth = i +1;

                // Pushes the point of data to dataArr2
                dataArr2.push([getMonth, randNum]);

            }

            // Push dataArr2 to dataArr
            dataArr.push(dataArr2)

        }

        // An array of all of the data to be used for the chart
        const data = [
            
            { 
                data: dataArr[0], 
                label: "test", 
            },

            { 
                data: dataArr[1], 
                label: "test2", 
            },

            { 
                data: dataArr[2], 
                label: "test3", 
            },

            { 
                data: dataArr[3], 
                label: "test4", 
            },
        
        ];

        // The options to be used for the chart
        const options = {

            legend: {
                show: false,
                position:"ne",
            },
            series: { 

                // Needed to set bar charts to stacked bar charts
                stack: stack,
                // Applies the "bars" setting to all data entries
                bars: {
                    show:true,
                    align: "center"
                }

            }

        };

        // Runs the function when the document is loaded
		$(document).ready(function() {

            // A chart to be rendered on the page
            let chart1 = $.plot($("#placeholder"), data, options);

        });

	</script>

</html>